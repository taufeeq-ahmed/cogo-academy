---
import CourseCard from "./CourseCard.astro";

const {course} = Astro.props
const response = await fetch(
  `${import.meta.env.PUBLIC_SERVER_URL}/sections/${course}`,
);
const data = await response.json();
const colors = [
    ['#FEF3E9','#C26D1A'],
    ['#F2F3FA','#7278AD'],
    ['#F7FAEF','#849E4C'],
    ['#F3FAFA','#6FA5AB'],
    ['#FFFCE6','#D6B300'],
    ['#FDEBE9','#BF291E']

]
const newSections = data?.map((sec,i)=>{
        return {
            ...sec,
            colors: colors[i%6]
        }
    })
---
{
    newSections && newSections.map((sec) => {
        return (
            <CourseCard section={sec} />
        );
    })
}