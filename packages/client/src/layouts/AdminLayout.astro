---
import TabsNav from "../components/TabsNav.astro";
import MainLayout from "./MainLayout.astro";
import home from "/assets/home.svg";
import course from "/assets/course.svg";
import profile from "/assets/Profileadmin.svg";
import logout from "/assets/logout.svg";
const { title, user } = Astro.props;
const currentPath = Astro.url.pathname;
---

<MainLayout title={title}>
    <TabsNav slot="tabs">
        <a
            href="/admin"
            class={`tab ${
                currentPath === "/admin" ? "tab_selected" : "not-selected"
            }`}
        >
            <img src={home} /> Home
        </a>
        <a
            href="/admin/courses"
            class={`tab ${
                currentPath === "/admin/courses"
                    ? "tab_selected"
                    : "not-selected"
            }`}
        >
            <img src={course} /> Courses
        </a>
        <a
            href="/admin/users"
            class={`tab ${
                currentPath === "/admin/users" ? "tab_selected" : "not-selected"
            }`}
        >
            <img src={profile} /> Students
        </a>
        <a
            href="/admin/batches"
            class={`tab ${
                currentPath === "/admin/batches"
                    ? "tab_selected"
                    : "not-selected"
            }`}
        >
            <img src={profile} /> Batches
        </a>
        <div class="profile_box">
            <div class="prof_pic">
                <img
                    src="https://source.unsplash.com/random"
                    alt="profile-pic"
                />
            </div>
            <div class="profile_details">
                <div class="profile_name">{user?.user_name}</div>
                {
                    /* <div className={styles.profile_rank}>Rank {user.user_rank}</div> */
                }
            </div>
            <div class="out_box">
                <a class="logout_box" href="/logout">
                    <img src={logout} alt="logout-icon" />
                </a>
            </div>
        </div>
    </TabsNav>
    <div style={{ marginTop: "1.25rem" }}>
        <slot />
    </div>
</MainLayout>
<style>
    .home {
        display: flex;
        align-items: center;
    }
    .profile_box {
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        bottom: 0;
        margin-bottom: 20px;
        /* margin-left: 20px; */
        margin: 10px 0px;
        margin-top: 5px;
    }
    .out_box {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 05px;
    }
    .profile_pic {
        height: 36px;
    }
    .prof_pic > img {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        cursor: pointer;
    }
    .profile_name {
        white-space: nowrap;
    }
    .logout_box {
        cursor: pointer;
    }
    .profile_name {
        white-space: nowrap;
    }

    .profile_details {
        display: flex;
        flex-direction: column;
        margin: 10px;
        cursor: pointer;
    }
</style>
